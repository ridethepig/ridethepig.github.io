<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="PA2 PA 2-5 正式写编译器。PA2 写词法分析器，首先读一遍 README 和 handout。 环境配置 因为这个项目的结构非常的智障，导致需要进行一些配置才能让 clangd 正常"><title>COOL Compiler-Part2</title><link rel=canonical href=https://ridethepig.github.io/blog/cool-compiler-part2/><link rel=stylesheet href=/scss/style.min.4dcaa54c672c82ff11db07df6f4383df1301377364944492f2e38e115b0b3dd4.css><meta property="og:title" content="COOL Compiler-Part2"><meta property="og:description" content="PA2 PA 2-5 正式写编译器。PA2 写词法分析器，首先读一遍 README 和 handout。 环境配置 因为这个项目的结构非常的智障，导致需要进行一些配置才能让 clangd 正常"><meta property="og:url" content="https://ridethepig.github.io/blog/cool-compiler-part2/"><meta property="og:site_name" content="Catfood Dev Blog"><meta property="og:type" content="article"><meta property="article:section" content="Blog"><meta property="article:tag" content="Compiler"><meta property="article:tag" content="编译原理"><meta property="article:tag" content="课程项目"><meta property="article:published_time" content="2023-03-21T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-21T00:00:00+00:00"><meta name=twitter:title content="COOL Compiler-Part2"><meta name=twitter:description content="PA2 PA 2-5 正式写编译器。PA2 写词法分析器，首先读一遍 README 和 handout。 环境配置 因为这个项目的结构非常的智障，导致需要进行一些配置才能让 clangd 正常"><link rel="shortcut icon" href=/favicon.jpg></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu8d350d85a62d055b05230a63583f7d47_54079_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Catfood Dev Blog</a></h1><h2 class=site-description>摸摸！</h2></div></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>主页</span></a></li><li><a href=/page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>归档</span></a></li><li><a href=/page/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>搜索</span></a></li><li><a href=/page/links/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg><span>链接</span></a></li><li><a href=/page/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>关于</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ul><li><a href=#pa2>PA2</a><ul><li><a href=#实现说明>实现说明</a></li><li><a href=#基础设施说明>基础设施说明</a></li><li><a href=#flex-工具踩坑>flex 工具踩坑</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E7%BC%96%E7%A8%8B/>编程</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/cool-compiler-part2/>COOL Compiler-Part2</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Mar 21, 2023</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 8 分钟</time></div></footer></div></header><section class=article-content><h2 id=pa2>PA2</h2><p>PA 2-5 正式写编译器。PA2 写词法分析器，首先读一遍 README 和 handout。</p><blockquote><p>环境配置</p><p>因为这个项目的结构非常的智障，导致需要进行一些配置才能让 <code>clangd</code> 正常工作。因为是 <code>Makefile</code> 项目，所以不能直接生成 <code>compile_commands.json</code>。</p><ol><li>安装 <code>apt install bear</code>，这个工具可以拦截 <code>make</code> 命令来生成上述的文件。</li><li>在 PA2 目录下，运行 <code>make clean && bear -- make lexer</code>，然后 <code>clangd</code> 应该就不会找不到头文件之类的了</li></ol></blockquote><blockquote><p>获取评测脚本</p><p>现在已经没有办法在线提交测试了（除非花钱？），因此需要从一些奇怪的地方获取测试工具，这里我从 <a class=link href=https://github.com/shootfirst/CS143 target=_blank rel=noopener>https://github.com/shootfirst/CS143</a> 这个 repo 里面扒了评测脚本（测试数据已经包含在了脚本里了） <code>pa[2-5]-grading.pl</code>，测试的话直接用 <code>perl ./pa2-grading.pl</code> 就行了。
这个东西确实测出来一些自己没考虑到的边角问题，虽然我已经很努力的在编测例了。</p></blockquote><p>写完了发现还是很折磨的，写了快两天的样子，一方面是对于 <code>flex</code> 工具和配套的基础设施不是很了解，另一方面是各种细节问题需要处理。</p><h3 id=实现说明>实现说明</h3><p>比较简单的部分是那些只需要返回一个 token 类型的东西（关键字和符号这种），pattern 就是他们自己，然后 action 就一个 <code>{return (TOKEN)}</code>。</p><p>然后稍微想了一下的，标识符和 Int、Bool 常量，需要写一个简单的正则外加操作 String Table 和 <code>cool_yylval</code>。</p><p>需要折腾一会的是注释，需要用到 flex 的状态。</p><ul><li>比较简单的是单行注释，检测到 <code>--</code> 就进入 <code>&lt;SCOMMENT></code>（Single-line Comment），然后检测到换行就回到 <code>INITIAL</code> 状态。这里是 <code>.</code> 和 <code>\n</code> 这一组互斥状态，EOF 不需要单独处理，可知已经覆盖了所有的情况。</li><li>然后是多行注释，不过这里需要支持 nested comment。这玩意的意思是说，需要在注释里面也要成对匹配 <code>(*</code> <code>*)</code>，不能简单的只考虑最外层或者最内层的符号对。这里需要多加一个变量 <code>comment_nest_level</code> 来维护嵌套的层数，流程也更复杂一些。
首先遇到 <code>(*</code> 进入 <code>&lt;NCOMMENT></code>（Nested Comment），同时初始化嵌套层数；然后在该状态下过滤 <code>(*</code>，发现一个就叠一层，过滤 <code>*)</code> 发现一个减一层或者到底了就退出状态就行了；这里需要特殊处理 EOF，如果在该状态下匹配到 EOF，需要报错，但是因为反正输入流已经结束了，就不需要做 resume 了；遇到 <code>\n</code> 维护一下行号；剩下的就交给 <code>.</code>。前面其实不需要写 exclusion，因为最长匹配（<code>(* *)</code> 都是2个字符，<code>.</code> 和 <code>\n</code> 都是1个， EOF 不可能匹配到其他的东西上），所以可以简单的囊括所有的情况并维护优先级。</li><li>除了注释里面的部分，还需要考虑一个单独的 <code>*)</code>，需要匹配并报错（而不是<code>*</code> <code>)</code> 两个 token）。这个是4.1节第5条的要求。这样一来，我们就解决了嵌套注释不匹配的两种错误情况，即：左符号比右符号多 => <code>EOF in comment</code> 报错；右符号比左符号多（等价于单独的 <code>*)</code>） => <code>Unmatched *)</code> 报错。</li></ul><p>最折腾的是字符串，因为它要考虑多行的情况，而且需要做特殊的 resume 处理。好消息是这些细节文档都有描述，坏消息是需要看好几遍才能完全理解。</p><ul><li>为了方便处理出错恢复处理，用了两个状态 <code>&lt;STRING></code> 和 <code>&lt;STRINGREC></code>（String Recovery）（不然需要在 action 里面写很多的特判）。</li><li>正常情况下，遇到 <code>"</code> 进入 <code>&lt;STRING></code>；然后对需要特殊处理的部分编写规则：<ul><li><code>\</code> 转义：匹配两个字符，根据 <code>\</code> 后面的字符决定把什么东西写进最终的字符串常量里面，这个东西在 handout 的第4.3节和 manual 的10.2节有描述；需要注意的是，合法多行转义可以（在最后加一个 <code>\</code> 然后换行，后面没有其他空白符）在这里一并处理掉，只不过需要写成<code>(.|\n)</code>。</li><li>EOF：根据 manual，除了 <code>\0</code> 和 EOF，其他字符均可出现在字符串中。因此，需要单独处理这两玩意。EOF 和前面的注释类似，比较简单。</li><li>0字符：0字符需要恢复。除了返回 ERROR Token，还要把状态切换到 <code>&lt;STRINGREC></code>，剩下的部分交给恢复规则。</li><li>未转义换行：根据最长匹配，可以直接写 <code>&lt;STRING>\n</code>，因为转义过的是2个字符。这个不需要进恢复状态，因为它直接返回 <code>&lt;INITIAL></code> 然后继续下一个字符就相当于处理了恢复的过程。</li></ul></li><li>对于除了以上情况的所有字符（可以 exclude 或者把 <code>.</code> 写到最后），用 boilerplate 给我们定义的 <code>string_buf</code> 存放。这里需要处理一个字符串过长的问题，判断指针超限之后，进 <code>&lt;STRINGREC</code> 并返回 ERROR Token，具体的边界情况可以对拍（对比标准实现）来获知。最后就是遇到了未转义的 <code>"</code>（根据最长匹配可以直接写 <code>&lt;STRING>\"</code>），把 <code>string_buf</code> 塞进 <code>stringtable</code> 里面，回到 <code>&lt;INITIAL></code>。</li><li>对于恢复状态 <code>&lt;STRINGREC></code>，根据手册，从下一个未转义的换行符或者未转义的<code>"</code>（因为要求是 <code>closing "</code>）开始继续正常的词法分析。所以在前面需要把 <code>\\\n</code> 和 <code>\\\"</code> 给处理掉，然后遇到 <code>\"|\n</code> 这两个之后就直接返回 <code>&lt;INITIAL></code> 就行，也不需要 return 任何东西。期间也要记得维护行号。不过事实证明，不需要单独处理 EOF，因为恢复了也没东西了。</li><li>这里有一个细节问题，就是报错的行号必须等于出错的地方的行号，因此不能留到后面统一返回报错，而是一旦出错就立刻返回。</li></ul><p>容易忘掉的点，一个是空白符匹配，需要一个 pattern（action 留空），不然遇到空白符 lexer 会行为异常，同时遇到换行还要维护行号；第二个是不合法字符，有些 ASCII 我们并没有用到，因此需要最后一个 <code>.</code> 来匹配并报错、跳过。同样的，<code>.</code> 和 <code>\n</code>（包含在空白符规则里面）的组合至少保证了所有的字符都会被匹配、处理。</p><p>不过其实，最离谱的是自己设计测试样例，这很考验对于手册的理解，不然就会漏掉点什么（虽然漏掉一些 edge case 对于后面也没啥影响就是了）。</p><p>在用了官方的评测脚本之后，又发现了一个问题：<code>\\0</code>（<code>0x5C 0x00</code>） 是不允许的。这个其实判定起来不难，但是会想不到，因为 PA2 的 handout 没写这一条，虽然 manual 里面 <code>A string may not contain the null</code> 的确是不允许这种情况（因为它转义完了还是 <code>\0</code>），但是谁会想到测这个呢？</p><h3 id=基础设施说明>基础设施说明</h3><p>个人感觉，一开始做的比较迷惑的主要原因在于它的代码框架比较凌乱，文档也有点谜语人，读了好几遍文档才知道该写点啥。</p><p>写之前多读几遍文档，首先看一遍 PA2 的实验说明，了解一下需要干什么，里面也有一些读其他文档和代码的指导。然后是 <code>cool-manual.pdf</code> 看第10节（主要是写 pattern 的时候看）和第12节里面那个大的 BNF 文法（里面描述了所有用到的符号），以及 <code>cool-tour.pdf</code> 看第3节，在写 action 的时候会用到它来存字符串。最后看一下代码，主要是 <code>/include/cool-parse.h</code>，这里面定义了非 ASCII 符号的 TOKEN，还有 <code>YYSTYPE</code> 枚举，这个枚举是用来存 lexeme 的，<code>；lextest.cc</code> 也要看一下，至少知道输出的都是什么。</p><p>这个里面用到的基础设施主要是一个 String Table，用来存放所有遇到的字符串。里面有个 <code>add_string</code> 方法，会先查再加还带内存分配，所以直接调用就行。碰到需要存字符串值的东西，各种 identifier、String 常量和 Int 常量（不检查不转换，直接存），这三个每个都有一个单独的实例对象（<code>idtable</code> <code>stringtable</code> <code>inttable</code>），需要根据不同的 token 用。</p><p>另外一个就是 <code>YYSTYPE cool_yylval</code> 这个枚举。如果有需要存的信息（lexeme 或者错误信息，参考第5节 <code>Notes for the C++ Version of the Assignment</code>），每个 action 往里面写一个值，这个对应 PA2 文档第4节开头的部分，当时看了半天才理解到是要存这东西里面。用到里面的3个枚举值：<code>boolean</code>、<code>symbol</code>、<code>error_msg</code>。如果是解析出来 <code>Bool</code> 常量，那么直接写进去 <code>true/false</code>；如果出错了，给字符指针 <code>error_msg</code> 赋值，我猜需要用到 <code>strdup</code>，但是单就这个实验看不出来，总感觉要出内存 bug（也不知道后面会不会 free 掉）；剩下来那些需要存 lexeme 的就先 <code>add_string</code> 然后它会返回一个 Entry，这东西就是所谓的 Symbol 啦。</p><h3 id=flex-工具踩坑>flex 工具踩坑</h3><p>最后记录一下 <code>flex</code> 这个工具的一些坑。</p><ul><li><strong>版本</strong>：因为不知道在网上的什么地方看到了一个 blog 说是新版本的 <code>flex</code> 在处理 c++ 时的行为和旧版不一样，所以选择了旧版本，也就是 <code>apt install flex-old</code> 安装的版本（2.5.4）。问题在于我看的文档版本是最新的，遇到了一个不支持的语法，不过其他的倒是没有特别需要注意的地方。旧版本的 <code>flex</code> 似乎不支持 <code>(?i:xxx)</code> 这种写法，这个在关键字忽略大小写的时候会比较省事（因为只有关键字需要忽略大小写，所以不能开全局忽略），可惜的是旧版本只能像个傻子一样写成 <code>CLASS [Cc][Ll][Aa][Ss][Ss]</code>。</li><li><strong>奇怪的缩进规则</strong>：它居然和 python 一样，依靠缩进来分辨一些东西，每个 Section 的规则还稍有不同。比如在 Rule Section（就是实际写 action 的那一节），pattern 必须无缩进，然后其他的东西（比如注释）必须前面有空白符，不然就会被认为是一个 pattern。在看文档的时候要注意一下 <code>(un)indented</code> 这个词，可以避免很多奇怪的事情。<br>一开始没看到 <code>the pattern must be unindented and the action must begin on the same line</code> 这一句，没给注释加前面的空格，然后就调了半天的 <code>unrecognized rule</code>。
还有就是 action 可以没有大括号但是不能没有分号，以及它其实是可以写多行的，只要前面有 indent 就行（不然会写出很长一串）。</li><li><strong>EOF 符号</strong>：<code>flex</code> 里面的 EOF 专门有一个 <code>&lt;&lt;EOF>></code> 来表示，但是它不能和其他的 pattern 写在一起，也就是需要单独一行写一个这东西，不然报错。</li><li><strong>0 字符（null character）</strong>：这个本身没什么特别的，直接用就行，不过需要注意的是，<code>.</code> 通配符是包含 <code>\0</code> 的，也就是一不小心就用这玩意把 <code>\0</code> 给匹配进去了，单独写的那个 <code>\0</code> 规则就不生效，会导致一些费解的事情发生。</li><li><strong>VSCode 插件</strong>：搜到两个还算下载量比较多的，但是都不行，有一个着色有 bug（可能是因为它太老了，接口不兼容了），还有一个加了莫名其妙的、极具误导性的语法检查还关不掉（一点问题都没有的代码给我每行一个红色波浪线）。建议用第二个，然后大脑忽略他的错误提示。</li></ul><p>剩下的就看两眼文档就会了，跟课上教的 Regular Expression 基本上大差不差。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/compiler/>Compiler</a>
<a href=/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/>编译原理</a>
<a href=/tags/%E8%AF%BE%E7%A8%8B%E9%A1%B9%E7%9B%AE/>课程项目</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.css integrity="sha256-J+iAE0sgH8QSz9hpcDxXIftnj65JEZgNhGcgReTTK9s=" crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/katex.min.js integrity="sha256-InsNdER1b2xUewP+pKCUJpkhiqwHgqiPXDlIk7GzBu4=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.15.6/dist/contrib/auto-render.min.js integrity="sha256-y39Mpg7V3D4lhBX4x6O0bUqTV4pSrfgwEfGKfxkOdgI=" crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.querySelector(`.article-content`),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>相关文章</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/blog/cool-compiler-part1/><div class=article-details><h2 class=article-title>COOL Compiler-Part1</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2018 -
2023 Catfood Dev Blog</section><section class=powerby>摸摸猫猫<br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.16.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>